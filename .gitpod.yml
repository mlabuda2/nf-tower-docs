# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - name: Setup
    init: |
      brew install python@3.9
      brew unlink python && brew link --overwrite python
      pip3 install --upgrade pip3
      pip3.9 install -r requirements.txt &&
      # The GITEA_TOKEN environment variable needs to be added to the Gitpod env variables by the user.
      pip3.9 install "git+https://${GITEA_TOKEN}@git.seqera.io/seqeralabs/mkdocs-material-insiders@7.3.3-insiders-3.1.3"
    command: mkdocs serve
ports:
- port: 8000
  onOpen: open-preview
  visibility: public

github:
  prebuilds:
    gitpod-setup: true
