---
title: Resource Labels Overview
headline: 'Resource Labels'
description: 'Step-by-step instructions to set-up and use Resurce Labels in Tower.'
---

## Introduction

Resource labels are a declination of the general label concept, they have a different format `key=value` and a different behavior than the general labels. 
Resource labels can be associated to Tower elements like a compute environment and are sent to cloud provides upon a workflow execution to tag the resources generated by it.

The resource labels offer a flexible tagging system interacting with the cloud service provider. Tower resource labels  enable annotating, tracking, and categorizing cloud resources used by a workflow run.


## Create and apply labels

Resource labels can be created, applied and edited by a workspace admin or owner. When applying a label, users can select from existing labels or add new ones on the fly. 

![](_images/ce-resource-labels.png)

### Resource labels applied to a compute environment
Admins can assign a set of resource labels when creating a compute environment.
All runs executed using the compute environment will be tagged with the compute enviromment resoruce labels.
Resoruce labels applied to a compute environment are displayed in the compute environment details page.

![](_images/launch-resource-labels.png)

Apply label to a compute enviromnent when adding a new compute environment to the workspace.

!!!warning
    Once the compute environment is created, the resource labels cannot be edited at all.

If a resource label as applied to a compute environment, all workflow runs of this pipeline will inherit the resource label. Likewise, all cloud resrouces generated during the workflow execution will be tagged with the same resource label.

![](_images/workflow-resource-labels.png)


## Resource label propagation to cloud environments
Resource labels are only available for cloud environment endowed with a resource tagging system. 
Tower supports AWS, Google Life Science, Azure and Kubernetes: 
HPC compute environments cannot have resouce labels associated.

Whenever a run is executed in a compute environment with associated resource labels, Tower takes care to propagate the labels to a set of resources, listed below, while Nextflow will distribute the labels for the resources that are spawn at runtime

If the compute environment is created through Forge then compute environment creation will propagate the tags to the resources generated by the Forge execution.

### AWS

When the compute environment is created with forge then the following resources will be tagged using the labels associated with the compute environment

- FSX Filesystems
- EFS Filesystems
- Roles and Policies
- Batch Compute Environment
- Batch Queue(s)

At execution time, when the jobs are submitted to Batch, the request are all instrumented to propagate tags to all the  instances created by the head job 

### Google Life Science

For GLS the only entity that will be tagged is the `Run Pipeline Request`: the propagation of the labels to subsequent resources during execution is delegated to Nextflow

### Azure

!!!warning
The labeling system on Azure Cloud uses the naming Metadata

When creating an Azure Compute Environment through Forge will add the resource labels to the Pool Parameters: this will add a set of key=value metadatas to the Azure Batch Pool.

### Kubernetes

Both Head Pod and Work pods specs will contains the set of labels associated with the compute environment along with the standard labels applied by Tower and Nextflow


!!!warning
    Currently, the tagging with resource labels is not available for the files created during a workflow execution. The cloud instances are the elements being tagged.

!!!warning
    The resource labels propagation is one-way and not synchronized with the cloud environment. This means that Tower takes care to attach tags to cloud resources but is not aware if those tags change  or are deleted directly in the cloud environment.

## Search and filter with labels
Search and filter pipelines and workflow runs using one or more resource labels. 
Filter and search are complementary and it works using the same keyword as for labels.
The requirements are to have a `label:key=value` format. 

![](_images/filter_labels.png)

## Overview of resource labels in a workspace

All resource labels used in a workspace can be viewed, in the workspace’s Setting screen. 
Resrouce labels can be edited or deleted only by admins and only if they are not associated to **any** Tower resource.
This includes both compute environments and workflow runs.
The deletion of a resource label from a workspace has no influence whatsoever to the cloud environment. 

![](_images/label_management.png)

## Limits

!!!warning
    Resoruce labels need to have non-null key and value. Both key and value follow the same limitations for simple labels in terms of composition and length.

!!!warning
    Currently, it is not possible to assign multiple resource labels with the same key but different values to the same resource, regardless if this option is supported or handled by the destination cloud provider.

- A maximum of 25 resource abels can be applied to each resource.
- A maximum of 100 resource labels  can be used in each workspace.  
